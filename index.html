<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Presença</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <div class="container">
        <!-- Formulário de Registro -->
        <div class="card show" id="registration">
            <h1>Registro de Presença</h1>
            <form id="presenceForm">
                <input type="text" id="name" placeholder="Nome" required>
                <input type="email" id="email" placeholder="E-mail" required>
                <button type="button" onclick="nextStep('step1')">Próximo</button>
            </form>
        </div>

        <!-- Solicitação de Acesso à Câmera -->
        <div class="card" id="step1">
            <h2>Permitir acesso à câmera?</h2>
            <p>Precisamos de uma foto sua para concluir o registro.</p>
            <button onclick="startCamera()">Permitir e Continuar</button>
        </div>

        <!-- Solicitação de Localização -->
        <div class="card" id="step2">
            <h2>Compartilhar sua localização?</h2>
            <p>Precisamos da sua localização para concluir o registro.</p>
            <button onclick="getLocation()">Compartilhar e Finalizar</button>
        </div>

        <!-- Página Final com Resumo -->
        <div class="card" id="final">
            <h2>Resumo do Registro</h2>
            <ul id="dataSummary"></ul>
            <p class="warning">Lembre-se de revisar as permissões que concedeu.</p>
            <div id="cameraOutput" style="display: none;">
                <h2>Foto Capturada:</h2>
                <img id="photo" src="" alt="Sua Foto" style="max-width: 100%; border-radius: 10px;">
            </div>
            <div id="locationOutput" style="display: none;">
                <h2>Localização Capturada:</h2>
                <p id="location"></p>
                <div id="map" style="height: 400px; width: 100%; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);"></div>
            </div>
            <button onclick="restart()">Recomeçar</button>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>
